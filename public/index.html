<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="apple-mobile-web-app-capable" content="yes"><!-- Open from home screen without address bar -->
    <title>Domotica control</title>
    <style>
        /* Uncomment to enable dark-mode
        @media (prefers-color-scheme: dark) {
            body {
                background-color: #000;
            }
        }
        */
    </style>
</head>
<body>
<noscript>
    You need to enable JavaScript to run this app.
</noscript>
<script type="text/javascript">
    // iOS 14 doesn't re-evaluate the media-queries inside a <picture>
    // dirty workaroud: do a reload
    window.matchMedia('(prefers-color-scheme: dark)')
            .addEventListener('change', event => {
        if (event.matches) {
            //dark mode
        } else {
            //light mode
        }
        location.reload();
    })

    // Defaults. Should be overridden in controls.yaml
      window['maps'] = [
          {
              'imgsrc': 'plan0.svg',
              'controls': [
                  {
                      'type': 'relay', 'left': 87, 'top': 144,
                      'name': 'light kitchen',
                      'icon': 'light',
                      'address': [0x1, 1],
                  },
                  {
                      'type': 'relay', 'left': 230, 'top': 100,
                      'name': 'light bedroom',
                      'icon': 'light',
                      'address': [0x2, 1],
                  },
              ],
          },
          {
              'imgsrc': 'plan1.svg',
              'controls': [
                  {
                      'type': 'dimmer', 'left': 332, 'top': 341,
                      'name': 'attic fan',
                      'icon': 'fan',
                      'address': [0x3, 1],
                  },
              ],
          },
      ];
</script>
<div id="root">Loading ReactJS app...</div>
<div id="test"></div>
</body>
</html>
